<!doctype html>
<!-- Version input/index.html v5.6: Remove same date as tag, add STEM synonym. UPGRADE: Eliminate "popup" dead wood.
<!-- UPGRADE: Change tooltips so they're created and destroyed each time like popups. -->
<!-- That will prevent tips from going off the page when it's resized. -->
<!-- Still contains dead wood for making hashtags.  -->
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Contribute to the Learning With AI toolkit with this form">
	<title>Learning With AI: Contribute a Resource</title>
	<!-- This HTML5 template is based on http://html5doctor.com/html-5-boilerplates/ -->
	<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
	<style id="set-html5-blocks">
		article,
		aside,
		details,
		figcaption,
		figure,
		footer,
		header,
		hgroup,
		menu,
		nav,
		section {
			display: block;
		}
	</style>
	<link rel="stylesheet" href="../css/fontawesome-free-6.3.0-web/css/all.css" />
	<style id="tagged-submission-generator-style-v01.1">
		/* Modified from v1.0 to adapt to Learning With AI needs. */
		/*Has dead wood from choose adventure style.*/
		/* Resets */
		* {
			box-sizing: border-box;
		}

		:root {
			--screen-margin-inline: 10%;
			--row-margin-block: 20px;
			--card-spacing-internal: 1em;
			--card-children-width: 98%;
			--input-height: 2em;
			/* JS uses this to determine tooltipDurationsMs. */
			--tooltip-duration-ms: 1000ms;
			--tooltip-transition-ms: 200ms;
			/* Doesn't apply to popups. */
			--tooltip-delay-in-ms: 500ms;
			--tooltip-delay-out-ms: 0ms;
			/* No units because used in JavaScript: */
			--popup-separation-x: 40;
			--popup-separation-y: 10;
			--hint-separation-extra: 40;
			--popup-opacity: .8;
			/* _________________ Global colors from home page._________________ */
			--h-cooler: 220;
			/* WAS 205. */
			--h-medium: 210;
			/* WAS 200. */
			--h-warmer: 200;
			/* WAS 190. */
			--h-warmest: 160;
			--h-rotate-from-sepia: 170deg;
			/* Ice: a cool, dull blue. */
			/* Added in v01.1: */
			/* This changed from the home page: */
			--palest-ice: azure;
			--paler-ice: hsla(var(--h-medium), 100%, 90%, 1);
			--pale-ice: hsla(var(--h-medium), 70%, 80%, 1);
			;
			--medium-ice: hsla(var(--h-medium), 30%, 40%, 1);
			--dark-ice: hsla(var(--h-medium), 30%, 30%, 1);
			--darker-ice: hsla(var(--h-medium), 100%, 20%, 1);
			--darkest-ice: hsla(var(--h-medium), 100%, 10%, 1);
			/* Celeste: a more saturated, warmer blue. */
			--pale-celeste: hsla(var(--h-medium), 90%, 80%, 1);
			--dull-celeste: hsla(var(--h-warmer), 40%, 70%, 1);
			--deep-celeste: hsla(var(--h-warmer), 60%, 70%, 1);
			--medium-celeste: hsla(var(--h-warmer), 60%, 20%, 1);
			/* Jade: even more saturated and warmer. */
			--pale-jade: hsla(var(--h-warmest), 100%, 40%, 1);
			--medium-jade: hsla(var(--h-warmest), 100%, 20%, 1);
			/* Lexia and other backgrounds. */
			--lexia-lightest: azure;
			--lexia-lighter: paleturquoise;
			--lexia-darker: teal;
			--dull-aqua: lightseagreen;
			--darker-body: hsla(180, 25%, 25%);
			/*	Gradients */
			--gradientStopA: hsla(var(--h-warmer), 100%, 10%, 0.8);
			--gradientStopB: hsla(var(--h-warmer), 100%, 60%, 0);
			--gradientStopC: hsla(var(--h-warmer), 70%, 35%, 0.8);
			--gradientStopD: hsla(var(--h-warmer), 70%, 60%, 0);
			--gradientStopE: hsla(var(--h-cooler), 90%, 90%, 0.8);
			--gradientStopF: hsla(var(--h-cooler), 90%, 95%, 0);
			--gradient-lightest: azure;
			--gradient-lightest: hsla(var(--h-warmer), 90%, 95%, 1);
			--background-lightest: skyblue;
			/*	Shadows. */
			--cluster-shadow: hsl(var(--h-warmer), 5%, 5%);
			--screenshot-background: hsla(0, 0%, 0%, 0.5);
			/*	Accents. */
			--accent: aqua;
			--highlight: lime;
			/* Added in v1.1: */
			--block-shadow: var(--medium-ice) .5px 1.5px 4px;

		}

		/* Heading fonts. */
		@font-face {
			/* Unused? */
			font-family: "sansation-light";
			src: url("../fonts/Sansation-Light.ttf") format("truetype");
		}

		@font-face {
			/* Unused? */
			font-family: "sansation-regular";
			src: url("../fonts/Sansation-Regular.ttf") format("truetype");
		}

		@font-face {
			font-family: "sansation-bold";
			src: url("../fonts/Sansation-Bold.ttf") format("truetype");
		}

		/* Font-awesome. */
		i {
			/* color: var(--medium-celeste); */
			/* SWATCH Dark ice. */
			/* text-shadow: var(--medium-celeste) 0 0 0.1em; */
			/* SWATCH Medium celeste.*/
			font-size: 1.2em;
			margin-right: .5em;
		}

		/* Generic tags. */
		h1,
		h2,
		h3,
		h4 {
			font-family: "sansation-bold";
		}

		h2,
		.watermark h2 {
			color: steelBlue;
		}

		.watermark h2 {
			font-weight: normal;
		}

		h4 {
			color: steelblue;
			font-weight: bold;
			font-size: 1.1em;
			margin: .7em 0 .2em 0;
		}

		p {
			margin-left: 0;
			margin-bottom: .5em;
			color: dimgray;
		}

		li {
			margin: 0 0 0 1em;
		}

		button {
			padding: .5em;
			background-color: var(--deep-celeste);
			color: white;
			font-weight: bold;
			font-size: 1.2em;
			border-radius: 0.5em;
			/* filter: drop-shadow(var(--block-shadow)); */
		}

		.warning {
			color: orangered;
		}

		body {
			background-color: var(--body-background);
			font-family: verdana;
			margin: 0;
			padding: 0;
		}

		/* FAILS: @media (prefers-color-scheme: dark), */
		/* Including body here guarantees vars will be defined onload in Firefox. */
		body,
		.light-mode {
			/* Not using :root so we can toggle these for dark mode. */
			--body-background: white;
			--block-warm-medium: darkgray;
			--block-warm-light: gainsboro;
			--block-warm-lighter: whitesmoke;
			--block-cool-light: powderblue;
			--heading-cool-medium: lightSlateGray;
		}

		.dark-mode {
			--body-background: black;
			--block-warm-medium: darkgray;
			--block-warm-light: hsl(180, 20%, 10%);
			--block-warm-lighter: hsl(180, 20%, 10%);
			--block-cool-light: powderblue;
			--heading-cool-medium: lightSlateGray;
		}

		#watermark {
			/* Adding a background gradient here instead of the body
			prevents the gradient from repeating somewhere down the page. */
			position: absolute;
			width: 100%;
			height: 2000px;
			z-index: -1;
			/*	Gradient: dark, medium, light. 0deg is bottom to top, then clockwise.
					Percentages set where the new color starts, so 0deg 10% is mostly second color. */
			background-image: linear-gradient(150deg, var(--gradientStopA), var(--gradient-lightest) 35%), linear-gradient(217deg, var(--gradientStopC), var(--gradient-lightest) 30%), linear-gradient(0deg, var(--gradientStopE), var(--gradient-lightest) 20%);
			/* background-image: linear-gradient(150deg, var(--gradientStopA), var(--gradient-lightest) 65%); */
			/* background-attachment: fixed; Necessary? */
			background-color: var(--gradient-lightest);
		}

		main {
			display: flex;
			flex-direction: column;
			margin-inline: var(--screen-margin-inline);
			margin-block: 0 padding: 0;
			gap: var(--row-margin-block);
		}

		/* Narrower content. */
		#header {
			width: 80vw;
			margin-left: auto;
			margin-right: auto;
			/* The ~20px addition makes room for the reset button. */
			margin-bottom: calc(-2 * var(--row-margin-block) + 22px);
			position: relative;
			padding-top: 20px;
			height: 100px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 0 25px;
		}

		#rubric {
			color: aqua;
		}

		:is(#logo-simple, #rubric):hover {
			cursor: pointer;
		}

		#beta {
			position: relative;
			top: -1em;
			left: -1em;
			color: dimgray;
			font-size: .8em;
		}

		#header h2 {
			color: var(--paler-ice);
			text-shadow: black 0 0 0.1em,
				black 0 0 0.3em;
		}

		#header img {
			/* Same as #logo-simple. */
			width: 3vw;
		}


		#logo {
			color: powderBlue;
		}

		.row {
			/* Can be overridden for certain cases. */
			display: flex;
			/* min-height: 30px; */
			/* border-top: silver dashed 4px; */
		}

		#global-options {
			justify-content: flex-end;
			margin-bottom: 20px;
		}

		button#theme,
		button#reset,
		button#clear-search {
			/* width: 15ch; */
			font-size: .8em;
			margin-left: 1em;
		}

		/* Restore this after fixing dark mode: */
		button#theme {
			display: none;
		}

		.row-containing-columns,
		.row-containing-rows {
			display: flex;
			justify-content: space-between;
			align-items: center;
			gap: 30px;
		}

		#tag-utilities {
			display: grid;
			align-items: start;
			grid-template-columns: 1fr 2fr 3fr;
			border-top: dimgray solid 1px;
			padding-top: 1em;
		}

		#tag-utilities h2 {
			margin: 0;
			padding: 0;
		}

		.row-containing-rows {
			flex-direction: column;
		}

		.row-centered {
			justify-content: center;
			align-items: center;
		}

		.special-card-container {
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			flex: 1;
		}

		.card {
			flex: 1;
			border: gainsboro solid 2px;
			border-radius: 10px;
			padding: 1em;
			box-sizing: border-box;
			font-size: .9em;
			color: darkGray;
			background-color: var(--block-warm-lighter);
		}

		.card h2 {
			text-align: center;
			color: var(--heading-cool-medium);
		}

		.card .subheading {
			font-weight: normal;
		}

		.card li {
			list-style-type: none;
			margin: -.5em -5em;
		}

		.arrow-container {
			display: flex;
			align-items: center;
			/* Dimensions from components. */
			/* Based on arrow-right. */
			height: 120px;
			/* 12 + 30. */
			width: 42px;
			filter: drop-shadow(var(--block-shadow));
			/* Position under potential popups. */
			z-index: -1;
		}

		.arrow-container.arrow-down {
			transform: rotate(90deg);
		}

		div.arrow-box-right {
			position: relative;
			float: left;
			/* margin-top: 40px; */
			width: 12px;
			height: 120px;
			background-color: powderBlue;
		}

		div.arrow-right {
			position: relative;
			float: left;
			width: 0px;
			height: 0px;
			border-bottom: 100px solid transparent;
			/* left arrow slant */
			border-top: 100px solid transparent;
			/* right arrow slant */
			border-left: 30px solid powderBlue;
			/* bottom, add background color here */
			/* For IE: */
			font-size: 0px;
			line-height: 0px;
		}

		/* Choices. */
		.grid-radio {
			display: grid;
			grid-template-columns: 3fr 1fr;
			align-items: center;
			gap: 1em 0;
		}

		.grid-radio>* {
			margin: 0;
			padding: 0;
		}

		label {
			color: steelBlue;
			font-size: 1em;
		}

		:not(.tag-span, .grid-radio, #date-utilities)>label {
			/* A "not" parent requires targeting direct descendents. */
			display: block;
			margin-bottom: 0;
		}

		/* label::after {
			    content: ":" ;
				font-size: 1em ;
			} */
		/*	Or can write input[type="text"]*/
		:not(#date-utilities, .grid-radio)>input,
		textarea {
			width: var(--card-children-width);
			border-radius: .4em;
			padding: 2%;
			margin: 0 0 var(--card-spacing-internal) 0;
			border: solid 1px silver;
			transition: box-shadow 1.5s ease-in;
			/*		box-shadow: 0 0 5px 1px transparent ; */
		}

		:not(.tag-span)>:not[type=radio] {
			height: var(--input-height);
		}

		#date-utilities {
			text-align: right;
			margin-top: -1em;
		}

		input:focus,
		input.focus,
		textarea:focus,
		textarea.focus {
			border: solid 1px dimGray;
			box-shadow: 0 0 5px 1px azure;
		}

		input.numeric {
			width: 10%;
		}

		textarea.memo {
			font-size: 1em;
			height: 9em;
			/*		border: inset silver 1px ;*/
			/*		border-color: silver ;*/
		}

		.answer-paragraph {
			margin-top: 0;
			margin-bottom: -.5em;
		}

		.answer-number {
			font-size: .8em;
			color: cadetBlue;
			padding: 0 .5em 0 0;
		}

		.post-text,
		.pre-text {
			color: var(--heading-cool-medium);
			font-size: .8em;
		}

		.pre-text {
			padding: 0 1em 0 0;
		}

		.post-text {
			padding: 0 1em 0 1em;
		}

		.numeric-paragraph {
			margin-top: -.5em;
			margin-bottom: -.5em;
		}

		.possible-answer-link {
			position: relative;
			margin-left: 5%;
		}

		.possible-answers {
			position: relative;
		}

		/* Hints. */
		.hint {
			background-color: tomato;
			color: white;
			font-size: 11px;
			padding: 2px 5px;
			border-radius: .8em;
		}

		.popup,
		.toast {
			position: absolute;
			border: cadetBlue solid 4px;
			width: 160px;
			/* height: 180px; */
			overflow: auto;
			padding: 1em;
			background-color: azure;
			color: cadetBlue;
			-webkit-border-radius: 10px;
			-moz-border-radius: 10px;
			border-radius: 10px;
			font-size: .9em;
			transition-property: display opacity;
			transition-duration: var(--tooltip-transition-ms);
			transition-behavior: allow-discrete;
			/* animation: fadeIn var(--tooltip-transition-ms) ease-in; */
			/* Final state of the exit animation. */
			opacity: 0;
		}

		.popup {
			width: 300px;
		}

		.toast:popover-open {
			display: block;
			opacity: .8;
			transform: scaleX(1);

			@starting-style {
				opacity: 0;
			}
		}

		@starting-style {
			.toast:popover-open {
				opacity: 0;
				transform: scaleX(0);
			}
		}

		.toast em {
			font-weight: bold;
		}

		/* @keyframes toastFade {
			from {
				opacity: 0;
			}

			to {
				opacity: .8;
			} */
		}

		.popup-close {
			position: absolute;
			width: 5%;
			left: 92%;
			top: .5em;
			font-size: .9em;
			color: darkSlateGray;
			font-weight: bold;
		}

		.popup-close:hover {
			color: tomato;
			cursor: pointer;
		}

		.popup-visible {
			opacity: var(--popup-opacity);
			transition-delay: var(--tooltip-delay-in-ms);
			/* Putting this here enables having different in and out delays. */
		}

		.popup-hidden {
			opacity: 0;
			pointer-events: none;
			transition-delay: var(--tooltip-delay-out-ms);
		}

		.tooltip {
			/* popupSeparationX, Y are set in JS. */
			/* position: absolute; */
			padding: .2em;
			width: 10em;
			/* animation-name: tooltip-animation;
			animation-duration: var(--tooltip-duration-ms);
			animation-iteration-count: 1; */
		}

		.synonyms {
			font-style: italic;
		}

		/* .tooltip::before {
			content: "Synonyms: ";
			color: dimgray;
			font-size: .8em;
		} */

		/* @keyframes tooltip-animation {
			0% {
				opacity: 0%;
			}

			20%,
			80% {
				opacity: var(--popup-opacity);
			}

			100% {
				opacity: 0%;
			}
		} */

		/* Form placeholders */
		::-webkit-input-placeholder {
			color: lightSkyBlue;
		}

		:-moz-placeholder {
			/* Firefox 18- */
			color: lightSkyBlue;
		}

		::-moz-placeholder {
			/* Firefox 19+ */
			color: lightSkyBlue;
		}

		:-ms-input-placeholder {
			color: lightSkyBlue;
		}

		#report {
			padding: 1em;
			font-size: .7em;
			background-color: whiteSmoke;
			border: silver solid 2px;
			border-radius: 8px;
			margin: 10px var(--screen-margin-inline) 0px var(--screen-margin-inline);
			color: royalBlue;
		}

		#report em {
			color: dimgray;
		}

		/* DEPRECATED? */
		.report-comment {
			color: blueViolet;
		}

		#submit-report-button {
			display: none;
			/* Revealed when user clicks appropriate button. */
		}

		.quiz-key {
			/* Labels for metadata in report. */
			color: dimGray;
		}

		.quiz-value {
			color: mediumPurple;
		}

		.quiz-answer {
			color: mediumOrchid;
		}

		/* Submission types. */
		.resource-only {
			display: block;
		}

		.strategy-only {
			display: none;
		}

		/*_________________ Adjust labels. _________________*/
		fieldset#record-type {
			margin-bottom: var(--card-spacing-internal);
			width: var(--card-children-width);
		}

		:is(#basics, #submission-type, #submitter) :is(input, textarea) {
			margin-top: .7em;
			/* Makes room for hint. */
		}

		#tag-utilities label {
			display: block;
			margin-bottom: .5em;
		}

		.input-row {
			display: flex;
			justify-content: space-between;
			gap: 1em;
		}

		/*_________________ Search. _________________*/
		#search-box,
		#folksonomy-box {
			height: var(--input-height);
			padding: .5em;
		}

		#search-box {
			width: 20ch;
		}

		#folksonomy-box {
			width: 40ch;
		}

		/*________________ Tags ________________*/
		#tags {
			display: grid;
			/* Stage 3a: grid-template-columns: repeat( auto-fit, minmax(250px, 1fr) ); Leave space for empty columns. Most common choice 👍 */
			grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
			/* Stretch columns to fit. */
		}

		#tags fieldset {
			display: flex;
			flex-wrap: wrap;
			justify-content: space-between;
			align-items: flex-start;
		}

		fieldset.tall {
			grid-row: span 2;
		}

		legend {
			color: var(--heading-cool-medium);
		}

		/* UPGRADE: These are given a CSS class called "tag-span" that is not currently used. */
		#tags span {
			/* white-space: nowrap; */
			font-size: .8em;
			background-color: var(--block-warm-lighter);
			border-radius: .3em;
			border: var(--block-warm-medium) solid 2px;
			padding: .2em 0 0 .2em;
			/* You can't have negative padding. */
			margin: .2em .3em 0 0;
		}

		#tags :is(span, span > *):hover {
			cursor: pointer;
		}

		#tags span.tag-active {
			background-color: var(--block-cool-light);
		}

		/* Hidden is different from not-active. Used in search filter. */
		#tags span.tag-hidden {
			display: none;
		}

		#tags input {
			width: auto;
			margin-right: .2em;
		}

		#tags label {
			margin-right: 1em;
		}

		/* ________________ Mobile accommodations. ________________ */
		/* Avoid setting visible versions of these styles to "block" because they may be flex etc. in context. */
		.mobile-browsing-warning {
			display: none;
		}

		@media only screen and (max-width: 414px) {
			.mobile-browsing-warning {
				display: block;
				padding: 1em;
				text-shadow: var(--lexia-lightest) 0 0 .17em;
			}

			/* .desktop {
				display: none;
			} */
		}
	</style>
	<style id="popover-styles">
		:popover-open {
			position: absolute;
			inset: unset;
			right: 5px;
			bottom: 5px;
		}
	</style>
	<script id="popover-script">
		const toastDurationInMS = 2000;
		function makeToast(textContent) {
			// Hide any previous popovers. There should be only one, but go through the array to be safe?
			document.querySelectorAll(".lastToast").forEach(
				popoverArticle => removePopover(popoverArticle)
			)
			// Create an element and make it into a popover
			const popover = document.createElement("article");
			popover.popover = "manual";
			popover.classList.add("toast");
			popover.classList.add("lastToast");
			// Give the toast its text content, and add it to the DOM
			popover.innerHTML = textContent; // WAS popover.textContent = textContent;
			document.body.appendChild(popover);
			// Show the popover
			popover.showPopover();
			// Remove the toast again after 4 seconds
			setTimeout(() => {
				removePopover(popover);
			}, toastDurationInMS);
			// When a new toast appears, run the movetoastsUp() function
			// popover.addEventListener("toggle", (event) => {
			// 	if (event.newState === "open") {
			// 		moveToastsUp();
			// 	}
			// });
		}
		const removePopover = popoverArticle => {
			popoverArticle.hidePopover();
			popoverArticle.remove();
		}
		// DEPRECATED: 
		// function moveToastsUp() {
		// 	const toasts = document.querySelectorAll(".toast");
		// 	toasts.forEach((toast) => {
		// 		// If the toast is the one that has just appeared, we don't want it to move up.
		// 		if (toast.classList.contains("newest")) {
		// 			toast.style.bottom = `5px`;
		// 			toast.classList.remove("newest");
		// 		} else {
		// 			// Move up all the other toasts by 50px to make way for the new one
		// 			const prevValue = toast.style.bottom.replace("px", "");
		// 			const newValue = parseInt(prevValue) + 50;
		// 			toast.style.bottom = `${newValue}px`;
		// 		}
		// 	});
		// }
	</script>
	<script id="build-tags-script-v1.1">
		const buildTags = () => {
			// General 
			tagObjects.push(new TagObject("AI", "General"));
			tagObjects.push(new TagObject("community", "General"));
			tagObjects.push(new TagObject("guidelines", "General", "policy"));
			tagObjects.push(new TagObject("list", "General", "compilation"));
			tagObjects.push(new TagObject("research", "General", "experiment"));
			// Technology 
			tagObjects.push(new TagObject("data", "Technology"));
			tagObjects.push(new TagObject("detection", "Technology"));
			tagObjects.push(new TagObject("free", "Technology", "open source, open access, sharing"));
			tagObjects.push(new TagObject("freemium", "Technology", "paid tier"));
			tagObjects.push(new TagObject("prompt", "Technology"));
			tagObjects.push(new TagObject("tool", "Technology", "service, technology"));
			tagObjects.push(new TagObject("subscription", "Technology", "paid"));
			// Discipline / context
			tagObjects.push(new TagObject("animation", "Discipline", "rotoscoping, motion graphics"));
			tagObjects.push(new TagObject("art", "Discipline"));
			tagObjects.push(new TagObject("business", "Discipline", "company, finance"));
			tagObjects.push(new TagObject("collections", "Discipline", "museums, archives, preservation"));
			tagObjects.push(new TagObject("computer science", "Discipline", "programming, data science, STEM"));
			tagObjects.push(new TagObject("design", "Discipline", "graphic design, UX design, UI design"));
			tagObjects.push(new TagObject("disability", "Discipline"));
			tagObjects.push(new TagObject("economics", "Discipline", "economy"));
			tagObjects.push(new TagObject("education", "Discipline", "higher education, school, universities, academia"));
			tagObjects.push(new TagObject("games", "Discipline", "gaming, computer games, video games"));
			tagObjects.push(new TagObject("governance", "Discipline", "government, regulation, justice, elections, democracy"));
			tagObjects.push(new TagObject("healthcare", "Discipline", "medicine, doctor, nurse, drug, pharmacology, mental health, social work"));
			tagObjects.push(new TagObject("history", "Discipline"));
			tagObjects.push(new TagObject("journalism", "Discipline", "news"));
			tagObjects.push(new TagObject("law", "Discipline"));
			tagObjects.push(new TagObject("languages", "Discipline"));
			tagObjects.push(new TagObject("libraries", "Discipline"));
			tagObjects.push(new TagObject("literature", "Discipline", "fiction"));
			tagObjects.push(new TagObject("marketing", "Discipline", "promotion, adversiting, publicity"));
			tagObjects.push(new TagObject("network", "Discipline", "Internet, social media"));
			tagObjects.push(new TagObject("politics", "Discipline", "political science, American studies"));
			tagObjects.push(new TagObject("psychology", "Discipline", "neuroscience, emotion, fear, hope"));
			tagObjects.push(new TagObject("science", "Discipline", "biology, chemistry, physics, geology, astronomy, mathematics, STEM"));
			tagObjects.push(new TagObject("story", "Discipline", "narrative"));
			tagObjects.push(new TagObject("work", "Discipline", "jobs, labor"));
			tagObjects.push(new TagObject("writing", "Discipline", "essays, papers, composition, English"));
			// Primary Medium 
			tagObjects.push(new TagObject("3d", "Medium", "VR, AR, virtual reality, augmented reality, XR, fabrication, environment"));
			tagObjects.push(new TagObject("audio", "Medium", "music, sound, podcasting")); // -> audio for voice simulation.
			tagObjects.push(new TagObject("code", "Medium", "software"));
			tagObjects.push(new TagObject("image", "Medium", "visual, picture"));
			tagObjects.push(new TagObject("performance", "Medium", "theater, drama, dance"));
			tagObjects.push(new TagObject("presentation", "Medium", "slides, talk"));
			tagObjects.push(new TagObject("publication", "Medium", "book, article"));
			tagObjects.push(new TagObject("robotics", "Medium", "hardware, manufacturing"));
			tagObjects.push(new TagObject("simulation", "Medium"));
			tagObjects.push(new TagObject("speech", "Medium", "talk"));
			tagObjects.push(new TagObject("syllabus", "Medium", "curriculum"));
			tagObjects.push(new TagObject("text", "Medium", "words, prose"));
			tagObjects.push(new TagObject("movie", "Medium", "video, film, cinema"));
			// Task 
			tagObjects.push(new TagObject("administration", "Task", "management, leadership, office work, staff"));
			tagObjects.push(new TagObject("assignment", "Task", "homework"));
			tagObjects.push(new TagObject("brainstorming", "Task", "ideation"));
			tagObjects.push(new TagObject("citation", "Task", "bibliography, source"));
			tagObjects.push(new TagObject("classroom", "Task", "campus"));
			tagObjects.push(new TagObject("communication", "Task", "email, conversation, discussion"));
			tagObjects.push(new TagObject("editing", "Task", "compositing, effects, manipulation"));
			tagObjects.push(new TagObject("evaluation", "Task", "grade, grading, assessment"));
			tagObjects.push(new TagObject("feedback", "Task", "commentary, critique, criticism"));
			tagObjects.push(new TagObject("grant", "Task", "funding, sponsorship"));
			tagObjects.push(new TagObject("howto", "Task", "explainer, demo"));
			tagObjects.push(new TagObject("literacy", "Task", "understanding, basics"));
			tagObjects.push(new TagObject("play", "Task", "fun"));
			tagObjects.push(new TagObject("remote learning", "Task", "online learning"));
			tagObjects.push(new TagObject("study", "Task", "learning"));
			tagObjects.push(new TagObject("teamwork", "Task", "group"));
			tagObjects.push(new TagObject("tutoring", "Task", "personalized, coaching"));
			// Priority / focus
			tagObjects.push(new TagObject("AI-human-collaboration", "Focus"));
			tagObjects.push(new TagObject("creator-focused", "Focus", "artist, designer, programmer, musician, filmmaker"));
			tagObjects.push(new TagObject("educator-focused", "Focus", "professor, teacher, instructor"));
			tagObjects.push(new TagObject("human-first", "Focus"));
			tagObjects.push(new TagObject("learner-focused", "Focus", "student"));
			// Ethics 
			tagObjects.push(new TagObject("access", "Ethics", "accessibility"));
			tagObjects.push(new TagObject("bias", "Ethics", "discrimination, fairness"));
			tagObjects.push(new TagObject("defect", "Ethics", "problem, challenge, failure"));
			tagObjects.push(new TagObject("disinformation", "Ethics", "misinformation, propaganda"));
			tagObjects.push(new TagObject("ethics", "Ethics", "morality"));
			tagObjects.push(new TagObject("exploitation", "Ethics", "abuse, misuse, copyright"));
			tagObjects.push(new TagObject("fabrication", "Ethics", "hallucination, confabulation, lies, falsehood, reliability, trust"));
			tagObjects.push(new TagObject("hype", "Ethics", "exaggeration"));
			tagObjects.push(new TagObject("DEI", "Ethics", "diversity, inclusion, equity"));
			tagObjects.push(new TagObject("identity", "Ethics", "gender, ethnicity, race, neurodiversity"));
			tagObjects.push(new TagObject("justice", "Ethics", "fairness, digital divide"));
			tagObjects.push(new TagObject("plagiarism", "Ethics", "cheating, copyright"));
			tagObjects.push(new TagObject("success", "Ethics", "favorable outcome"));
			tagObjects.push(new TagObject("sustainability", "Ethics", "climate, nature, energy"));
			tagObjects.push(new TagObject("security", "Ethics", "privacy, cybersecurity, malware, hacking"));
			tagObjects.push(new TagObject("surveillance", "Ethics", "privacy, security"));
			// Level.
			tagObjects.push(new TagObject("K-12", "Level", "primary, secondary, kindergarten"));
			tagObjects.push(new TagObject("undergraduate", "Level", "postsecondary, college, Associates, higher education"));
			tagObjects.push(new TagObject("graduate", "Level", "Phd, Masters"));
			// Location (events only).
			if (submissionType === "event" || submissionType === "speaker") {
				tagObjects.push(new TagObject("Africa", "Location", "Algeria, Kenya,  Morocco, Nigeria, South Africa"));
				tagObjects.push(new TagObject("Asia", "Location", "Russia, India, China"));
				tagObjects.push(new TagObject("Europe", "Location", "EU, England, Britain, UK, Spain, France, Germany, Italy, Russia"));
				tagObjects.push(new TagObject("Middle East", "Location", "Egypt, Israel, Palestine, Saudi Arabia"));
				tagObjects.push(new TagObject("North America", "Location", "Canada, US, America, United States, Mexico"));
				tagObjects.push(new TagObject("Oceania", "Location", "Australia, New Zealand"));
				tagObjects.push(new TagObject("South America", "Location", "Brazil, Argentina, Colombia, Chile, Venezuela"));
			}
			if (submissionType === "event") {
				tagObjects.push(new TagObject("Online", "Location", "webinar, Zoom, Google Meet, YouTube"));
			}
		}
		const removeTags = () => {
			tagObjects.forEach(
				tagObject => {
					// This removes the tag from the DOM.
					// Apparently JS's own garbage collection will delete the memory too.
					tagObject.tagSpan.remove();
					if (tagObject.tagSpan.popupDiv) {
						tagObject.tagSpan.popupDiv.remove();
					}
				}
			)
			fieldsets.forEach(
				fieldset => {
					// This node list contains HTML elements, not JS objects.
					fieldset.remove();
				}
			)
		}
	</script>
	<script id="tag-generator-script-v1.1">
		// This should be generic. Localization script follows this one.
		isPostingOnline = false; // Can be overridden in localization script.
		/*__________ Globals. __________*/
		let rootElement = getComputedStyle(document.querySelector(":root"))
		let tooltipDurationsMs = parseInt(rootElement.getPropertyValue("--tooltip-duration-ms"));
		let popupSeparationX = parseInt(rootElement.getPropertyValue("--popup-separation-x"));
		let popupSeparationY = parseInt(rootElement.getPropertyValue("--popup-separation-y"));
		let hintSeparationExtra = parseInt(rootElement.getPropertyValue("--hint-separation-extra"));
		let tooltipIsVisible = false; // UPGRADE: Now unused.
		let currentTagTarget = null;
		/*__________ Utilities. __________*/
		const copyToClipboard = string => {
			if (navigator && navigator.clipboard && navigator.clipboard.writeText) {
				return navigator.clipboard.writeText(string);
			} else {
				return Promise.reject('The Clipboard API is not available.');
			}
		};
		addTabHTML = function (indentInt) {
			var tabHTML = "";
			var spacesPerTab = 4;
			for (var spaceCounter = 0; spaceCounter < (indentInt * spacesPerTab); spaceCounter++) {
				tabHTML += "&nbsp;"
			};
			return tabHTML;
		}
		let eventIsSameDate = false;
		const toggleSameDate = () => {
			// If first time called, change false to true.
			eventIsSameDate = !eventIsSameDate;
			if (eventIsSameDate) {
				document.querySelector("#lwa-end-written").value = document.querySelector("#lwa-start-written").value;
			} else {
				document.querySelector("#lwa-end-written").value = "";
				document.querySelector("#same-date").checked = false;
			}
		}
		popupObjs = [];
		popupObjs.getPopupObjById = {};
		Popup = function (popupType, triggerElement) {
			// An object constructor, not a factory.
			// Tag tooltips are pre-built and the opacity changes.
			// "?" tooltips are generated and destroyed each time.
			this.popupDiv = document.createElement("div");
			this.popupDiv.className = "popup";
			this.popupDiv.obj = this;
			// UPGRADE: Check if this still applies:
			// I'm moving the popup up and to the left 20px to cover the ? button.
			// Because otherwise you need to do annoying stuff to trap when the user clicks that button again.
			// Only danger is if user re-sizes the screen to reveal the ? button.
			// I'm ignoring that contingency for now.
			if (popupType === "tooltip") { // Tag tooltip.
				document.body.appendChild(this.popupDiv); // Enables absolute positioning in the cursor location.
				// Add default state. Tooltips are hidden, while hints are created and destroyed on the fly.
				this.popupDiv.classList.add("popup-hidden");
				this.popupDiv.innerHTML = `${triggerElement.querySelector("label").innerText}</em> covers `;
				// Build synonyms.
				this.synonymsEm = document.createElement("em");
				this.popupDiv.appendChild(this.synonymsEm);
				this.synonymsEm.className = "synonyms";
				this.synonymsEm.innerHTML = `${triggerElement.object.synonyms}`;
				this.popupDiv.classList.add("tooltip");
			} else if (popupType === "hint") {
				this.popupDiv.classList.add("popup-visible");
				console.log(`In Popup, this.popupDiv is ${this.popupDiv}`);
				console.log(`In Popup, triggerElement.parentNode. is ${triggerElement.parentNode}`);
				triggerElement.parentNode.appendChild(this.popupDiv); // Enables positioning near reference field.
				// Position it a bit further away than tooltips.
				// Not working for some reason: this.popupDiv.style.transform = `translateX(300px)`;
				this.popupDiv.style.transform = `translateY(${hintSeparationExtra}px)`;
				// Enable closing.
				// Add the X for show--you can really click anywhere on the popup to close it.
				this.closeDiv = document.createElement("div");
				this.popupDiv.appendChild(this.closeDiv);
				this.closeDiv.className = "popup-close";
				this.closeDiv.innerHTML = "X";
				this.popupDiv.onclick = function () { // Doesn't apply to tag tooltips.
					this.parentNode.removeChild(this);
				}
				// Add specialized content.
				switch (triggerElement.id) {
					case "hint-resource-id":
						this.popupDiv.innerHTML += "If an explanation or other resource exists for this strategy, copy its id from the Learning With AI <a target='_blank' href='https://tinyurl.com/learnwithai-resources'>resource sheet</a>. You can separate multiple ids with commas."
						break;
					case "hint-event-id":
						this.popupDiv.innerHTML += "If this speaker has presented at an event, copy its id from the Learning With AI <a target='_blank' href='https://tinyurl.com/learnwithai-events'>event sheet</a>. You can separate multiple ids with commas."
						break;
				}
			}
		}
		/*__________ General metadata. __________*/
		// No scripts needed, just HTML form fields.
		/*__________ Tags. __________*/
		// UPGRADE: This could be determined dynamically by number of entries.
		const fieldsets = []; // This is an array of fieldset tags, constructed below.
		const tallFieldsetNames = ["Discipline"];
		let currentFieldsetId = "[[ No fieldset id defined!]]";
		const TagObject = function (tagName, fieldsetName, synonyms) {
			// synonyms are optional.
			this.synonyms = (typeof synonyms !== "undefined") ? synonyms : "[[none]]";
			this.tagName = tagName; // For use outside of this constructor.
			// Assign to fieldset.
			if (fieldsetName !== currentFieldsetId) {
				currentFieldsetId = fieldsetName;
				// Build new fieldset. This assumes fieldsets are already grouped in buildTags.
				let newFieldset = document.createElement("fieldset");
				newFieldset.id = fieldsetName;
				document.querySelector("#tags").appendChild(newFieldset);
				let newLegend = document.createElement("legend");
				newLegend.innerHTML = fieldsetName;
				newFieldset.appendChild(newLegend);
				if (tallFieldsetNames.includes(fieldsetName)) {
					newFieldset.style.gridRow = "span 2";
				}
				fieldsets.push(newFieldset);
			}
			// Build span to contain tag.
			this.tagSpan = document.createElement("span");
			try {
				document.querySelector(`#${currentFieldsetId} `).appendChild(this.tagSpan);

			} catch (e) {
				console.warn(`tagName`, tagName)
			}
			this.tagSpan.className = "tag-span";
			// Create handle.
			this.tagSpan.object = this;
			this.tagSpan.onclick = (event) => {
				// "this.tagSpan" is the span.

				if (!this.tagCheckbox.checked) {
					this.tagSpan.classList.add("tag-active");
					this.tagCheckbox.checked = true;
				} else {
					this.tagSpan.classList.remove("tag-active");
					this.tagCheckbox.checked = false;
				}
			}
			// Build tag checkbox.
			this.tagCheckbox = document.createElement("input");
			this.tagSpan.appendChild(this.tagCheckbox);
			this.tagCheckbox.type = "checkbox";
			this.tagCheckbox.id = tagName;
			this.tagCheckbox.onclick = (event) => {
				// Prevent double-dipping in checkbox status via span onclick.
				event.stopPropagation();
				// "this.tagSpan" is the span.
				// This is the reverse of span onclick behavior because the onclick appears
				// to be called after the actual box is ticked.
				if (!this.tagCheckbox.checked) {
					this.tagSpan.classList.remove("tag-active");
				} else {
					this.tagSpan.classList.add("tag-active");
				}
			}
			// this.tagCheckbox.name = fieldsetName ; // Not sure this is correct.
			// Build tag label.
			this.tagLabel = document.createElement("label");
			this.tagSpan.appendChild(this.tagLabel);
			this.tagLabel.for = tagName;
			this.tagLabel.innerHTML = tagName;
			// Add tooltip.
			if (this.synonyms === "[[none]]") {
				// Don't show tooltip.
			} else {
				// "this" is the TagObject.
				this.popoverHTML = `<em>${this.tagName}</em> covers ${this.synonyms}`;
				// this.tooltipObject = new Popup("tooltip", this.tagSpan); // DEPRECATED. UPGRADE: Remove this functionality.
				// Keep hover behavior here instead of Popup constructor so you can refer to the target tag span.
				// Seems to play better with hints if there are two different hidden/visible classes.
				// this.tagSpan.popupDiv = this.tooltipObject.popupDiv; // DEPRECATED.
				this.tagSpan.addEventListener(
					"mouseover",
					(event) => {
						let tagSpan = event.currentTarget;
						// console.log(`In Popup, tagSpan is ${tagSpan}`);
						// console.log(`In Popup, tagSpan.object.popoverHTML is ${tagSpan.object.popoverHTML}`);
						makeToast(tagSpan.object.popoverHTML);
						// let popupDiv = tagSpan.popupDiv;
						// // Styles not set in JS can be set but not accessed.
						// // console.log('%c event.clientY', `color: orange; background: black ; border-radius: .6em ; padding: 0 .5em;`, event.clientY);
						// popupDiv.style.left = event.clientX + popupSeparationX + "px";
						// popupDiv.style.top = event.clientY + popupSeparationY + "px";
						// popupDiv.classList.remove("popup-hidden");
						// popupDiv.classList.add("popup-visible");
					}
				);
				// this.tagSpan.addEventListener(
				// 	"mouseout",
				// 	(event) => {
				// 		let tagSpan = event.currentTarget;
				// 		let popupDiv = tagSpan.popupDiv;
				// 		popupDiv.classList.remove("popup-visible");
				// 		popupDiv.classList.add("popup-hidden");
				// 	}
				// );
			}
			// This is added to the tagObjects manager elsewhere, so user can filter to narrow selection.
		};
		tagObjects = [];
		currentReport = "[[No report defined!]]";
		const searchFilter = (searchStr) => {
			// UPGRADE: This is currently UI specific, but that could be changed if useful.
			// NOTE: This captures matches that aren't at the beginning of a string.
			// objRegex.compile(searchStr, "i"): This method is DEPRECATED.
			// Passing a template string lets you build the expression from dynamic input,
			// but you have to escape backslashes.
			var objRegex = new RegExp(`\\b${searchStr}`, "i");
			// Find span (tag) matches.
			console.log('%c objRegex.test("community")', `color: yellow; background: dimgray ; border-radius: .6em ; padding: 0 .5em;`, objRegex.test("community"));
			for (var tagCounter = 0; tagCounter < tagObjects.length; tagCounter++) {
				let foundInTagName = objRegex.test(tagObjects[tagCounter].tagName);
				let foundInSynonyms = objRegex.test(tagObjects[tagCounter].synonyms);
				if (foundInTagName || foundInSynonyms) {
					tagObjects[tagCounter].tagSpan.classList.remove("tag-hidden");
				} else {
					tagObjects[tagCounter].tagSpan.classList.add("tag-hidden");
				}
			}
		}
		const clearSearchFilter = () => {
			for (var tagCounter = 0; tagCounter < tagObjects.length; tagCounter++) {
				tagObjects[tagCounter].tagSpan.classList.remove("tag-hidden");
			};
			document.querySelector("#search-box").value = "";
			document.querySelector("#search-box").focus();
		}
		/* ________________ Select submission type. ________________ */
		const chooseType = () => {
			// Metadata at top.
			let allChoiceElements = document.querySelectorAll(".resource-only, .strategy-only, .speaker-only, .event-only");
			allChoiceElements.forEach(
				element => element.style.display = "none"
			);
			let selectedChoiceElements = document.querySelectorAll(`.${submissionType}-only`)
			try {
				selectedChoiceElements.forEach(element => element.style.display = "block");
			} catch (e) {
				console.warn(`${submissionType} is not a valid submission type!`);
			};
			// Tags at bottom, rebuilt each time to enable type-specific options.
			removeTags();
			buildTags();
			// Special customizations.
			let titlePlaceholder;
			let summaryPlaceholder;
			switch (submissionType) {
				case "resource":
					titlePlaceholder = "How to make flashcards with ChatGPT";
					summaryPlaceholder = "This article explains how to..."
					break;
				case "strategy":
					titlePlaceholder = "Ask AI to make flashcards";
					summaryPlaceholder = "Ask ChatGPT to generate study cards for terms to remember"
					break;
				case "event":
					titlePlaceholder = "AI in Healthcare: A Symposium";
					summaryPlaceholder = "This symposium brings together AI researchers and physicians to discuss..."
					break;
				case "speaker":
					titlePlaceholder = "Kim Rodriguez";
					summaryPlaceholder = "Northwest Virginia University"
					break;
			}
			document.querySelector("#lwa-title").placeholder = titlePlaceholder;
			document.querySelector("#lwa-summary").placeholder = summaryPlaceholder;
		}
		/* ________________ Report. ________________ */
		// After these fields, the Report constructor generates an id and adds Custom tags, Date posted, Submitter, and Submitter website.
		resourceKeysInOrder = ["author", "title", "url", "tagsAsString", "summary"]; // UPGRADE: add "id" at end and elimate tack-on at bottom?.
		strategyKeysInOrder = ["title", "summary", "tagsAsString", "resourceId"];
		eventKeysInOrder = ["title", "startWritten", "endWritten", "eventUrl", "summary", "location", "tagsAsString", "presenter", "recording"];
		speakerKeysInOrder = ["title", "summary", "tagsAsString", "eventId"];
		addToLegibleReport = (label, value) => {
			legibleReportHTML += `<em> ${label}</em>: `;
			if (value === "") {
				legibleReportHTML += `<span class="warning"> NONE INDICATED</span> <br />`;
			} else {
				legibleReportHTML += `${value} <br />`;
			}
		}
		Report = function () {
			let reportHTML = "";
			legibleReportHTML = ""; // Global for use in addToLegibleReport.
			/*________________ Common metadata. ________________*/
			this.title = document.querySelector("#lwa-title").value;
			this.summary = document.querySelector("#lwa-summary").value;
			if (document.querySelector("#type-strategy").checked) {
				this.type = "strategy";
			} else if (document.querySelector("#type-resource").checked) {
				this.type = "resource";
			} else if (document.querySelector("#type-event").checked) {
				this.type = "event";
			} else if (document.querySelector("#type-speaker").checked) {
				this.type = "speaker";
			};
			this.submitterName = document.querySelector("#lwa-submitter-name").value;
			this.submitterEmail = document.querySelector("#lwa-submitter-email").value;
			this.submitterWebsite = document.querySelector("#lwa-submitter-website").value;
			this.submitterEmail = document.querySelector("#lwa-submitter-email").value;
			/*________________ Default tags. ________________*/
			this.tags = [];
			document.querySelectorAll("input[type='checkbox']").forEach(
				checkbox => {
					let disallowedInputIds = ["same-date"];
					if (checkbox.checked && !disallowedInputIds.includes(checkbox.id)) {
						this.tags.push(checkbox.id);
					};
				}
			);
			this.tagsAsString = "";
			// Loop through all but the last to prevent trailing comma, hence the -1.
			for (let tagCounter = 0; tagCounter < this.tags.length - 1; tagCounter++) {
				if (reportFormat === "hashtags") {
					this.tagsAsString += `${this.tags[tagCounter]} `;
				} else if (reportFormat === "spreadsheet") {
					// Remove hash signs and add commas.
					// Syntax is myString.substr( startPositionCountingFirstAs0, numberOfCharactersToInclude ).
					// UNNECESSARY AFTER TAG SEGREGATION: this.tagsAsString += `${ removeHashtagSign(this.tags[tagCounter]) }, ` ;
					this.tagsAsString += `${this.tags[tagCounter]}, `;
				}
			}
			// Add last tag without trailing comma.
			if (reportFormat === "hashtags") {
				this.tagsAsString += this.tags[this.tags.length - 1];
			} else if (reportFormat === "spreadsheet") {
				this.tagsAsString += this.tags[this.tags.length - 1];
			}
			/*________________ Type-specific data. ________________*/
			if (this.type === "resource") {
				this.url = document.querySelector("#lwa-resource-url").value;
				this.author = document.querySelector("#lwa-author").value;
				resourceKeysInOrder.forEach(
					key => {
						if (reportFormat === "hashtags") {
							reportHTML += `${this[key]} `;
						} else if (reportFormat === "spreadsheet") {
							reportHTML += `${this[key]} \t`;
							addToLegibleReport(key, this[key]);
						}
					}
				)
				if (reportFormat === "hashtags") {
					// No id required.
				} else if (reportFormat === "spreadsheet") {
					this.lastName = this.author.replace(/^(.+?)\b(.*?)$/, "$1").toLowerCase();
					this.randomHex = (parseInt(4294967295 * Math.random())).toString(16); // 4294967295 is highest 32-bit number.
					this.resourceId = `${this.lastName}_${this.randomHex} `;
					reportHTML += `${this.resourceId} \t`;
				}
			} else if (this.type === "strategy") { // Submitting a strategy.
				this.resourceId = document.querySelector("#lwa-resource-id").value;
				strategyKeysInOrder.forEach(
					key => {
						if (reportFormat === "hashtags") {
							reportHTML += `${this[key]} `;
						} else if (reportFormat === "spreadsheet") {
							reportHTML += `${this[key]} \t`;
							addToLegibleReport(key, this[key]);
						}
					}
				)
			} else if (this.type === "event") { // Submitting a strategy.
				// [this.title = document.querySelector(this.#lwa-title = document.querySelector("#lwa-#lwa-title").value;
				this.startWritten = document.querySelector("#lwa-start-written").value;
				this.endWritten = document.querySelector("#lwa-end-written").value;
				this.eventUrl = document.querySelector("#lwa-event-url").value;
				this.summary = document.querySelector("#lwa-summary").value;
				this.location = document.querySelector("#lwa-location").value;
				this.presenter = document.querySelector("#lwa-presenter").value;
				this.recording = document.querySelector("#lwa-recording").value;
				eventKeysInOrder.forEach(
					key => {
						if (reportFormat === "hashtags") {
							reportHTML += `${this[key]} `;
						} else if (reportFormat === "spreadsheet") {
							reportHTML += `${this[key]} \t`;
							addToLegibleReport(key, this[key]);
						}
					}
				)
				if (reportFormat === "hashtags") {
					// No id required.
				} else if (reportFormat === "spreadsheet") {
					this.firstTitleWord = this.title.replace(/^(.+?)\b(.*?)$/, "$1").toLowerCase();
					this.randomHex = (parseInt(4294967295 * Math.random())).toString(16); // 4294967295 is highest 32-bit number.
					this.eventId = `${this.firstTitleWord}_${this.randomHex} `;
					reportHTML += `${this.eventId} \t`;
				}
			} else if (this.type === "speaker") { // Submitting a strategy.
				this.eventId = document.querySelector("#lwa-event-id").value;
				speakerKeysInOrder.forEach(
					key => {
						if (reportFormat === "hashtags") {
							reportHTML += `${this[key]} `;
						} else if (reportFormat === "spreadsheet") {
							reportHTML += `${this[key]} \t`;
							addToLegibleReport(key, this[key]);
						}
					}
				)
			}
			/*________________ Custom tags. ________________*/
			this.customTags = document.querySelector("#folksonomy-box").value;
			if (this.customTags === "") {
				this.customTags = "none";
			}
			reportHTML += `${this.customTags} \t`;
			// Not using addToLegibleReport function because it's OK if blank.
			legibleReportHTML += `<em> custom tags</em>: ${this.customTags} <br />`;
			/*________________ Date stamp. ________________*/
			// Submission date as unix seconds.
			const now = new Date();
			// Reformatted as 1/31/2023.
			this.submittedDate = `${now.getMonth() + 1} /${now.getDate()}/${now.getFullYear()} `;
			reportHTML += `${this.submittedDate} \t`;
			legibleReportHTML += `<em> submitted</em>: ${this.submittedDate} <br />`;
			/*________________ Submitter details. ________________*/
			reportHTML += `${this.submitterName} \t`;
			reportHTML += `${this.submitterWebsite} \t`;
			legibleReportHTML += `<em> submitter name</em>: ${this.submitterName} <br />`;
			legibleReportHTML += `<em> submitter's own website</em>: ${this.submitterWebsite}<br />`;
			legibleReportHTML += `<em>submitter email</em>: ${this.submitterEmail} (won't be publicly visible)<br />`;
			submitterEmail = this.submitterEmail; // Global, just for Firebase.
			/*________________ Report submission type. ________________*/
			legibleReportHTML += `<em>type</em>: ${this.type}`;
			// REDUNDANT? Need this global for Firebase post: submissionType = this.type;
			/*__________ Methods. __________*/
			this.showReport = function () {
				console.log('%c legibleReportHTML', `color: deepskyblue; background: dimgray; border-radius: .6em;`, legibleReportHTML);
				currentReport = reportHTML; // UPGRADE: This is a lazy global variable.
				copyToClipboard(reportHTML); // For Jon to add directly to Google Sheet.
				// Display legible version of what will get posted to database.
				document.getElementById("report").innerHTML = legibleReportHTML; // Or "return this" if you want multiple sections.
			}
		}
		createReport = function () {
			var myReport = new Report();
			console.table(myReport)
			myReport.showReport();
			_myReport_HTML = myReport.HTML; debug("_myReport_HTML", 1);
			if (isPostingOnline) { // Set in localization script.
				document.querySelector("#submit-report-button").style.display = "block";
			}
		}
		resetForm = function () { // UPGRADE: Need to customize this.
			var allInputs = document.getElementsByTagName("input");
			for (var inputCounter = 0; inputCounter < allInputs.length; inputCounter++) {
				switch (allInputs[inputCounter].type) {
					case "text":
						allInputs[inputCounter].value = "";
						break;
					case "url":
						allInputs[inputCounter].value = "";
						break;
					case "email":
						allInputs[inputCounter].value = "";
						break;
					case "checkbox":
						allInputs[inputCounter].checked = false;
						allInputs[inputCounter].parentNode.classList.remove("tag-active");
						break;
					case "radio":
						allInputs[inputCounter].checked = false;
						break;
				}
			};
			// Clear URL field. Not sure why this isn't covered under inputs above...
			document.querySelector("#lwa-resource-url").value = "";
			var allTextareas = document.getElementsByTagName("textarea");
			for (var textareaCounter = 0; textareaCounter < allTextareas.length; textareaCounter++) {
				allTextareas[textareaCounter].value = "";
			};
			// Clear data.
			quizDataObjs = [];
			tags = [];
			// Clear report.
			document.querySelector("#report").innerHTML = "(No report yet)";
			document.querySelector("#status").innerHTML = "";
			document.querySelector("#submit-report-button").style.display = "none";
			// Set defaults.
			document.querySelector("#type-resource").checked = true;
			submissionType = "resource";  // Set this global variable to "resource" by default.
			chooseType();
			document.querySelector("#lwa-title").focus();
		}
	</script>
	<script id="tag-generator-localization-script">
		isPostingOnline = true; // Overrides default in generic tag generation script.
		reportFormat = "spreadsheet";
		const postStatus = message => {
			document.querySelector("#status").innerHTML = message;
		}
		const submitReport = () => {
			firebase.database().ref("submissions/").push(
				{
					submissionType: submissionType,
					submission: currentReport,
					submitterEmail: submitterEmail,
					status: "pending"
				}
			)
				.then(
					(data) => {
						let now = new Date();
						let submittedDate = `${now.getMonth() + 1}/${now.getDate()}/${now.getFullYear()}`;
						let submittedTime = `${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;
						postStatus(`Success! Your submission is awaiting approval by the moderators (${submittedDate} ${submittedTime}).`);
						// postStatus("Success! We'll review your submission as soon as we're back from a mid-August break.");
					}
				).catch(
					error => {
						console.info(currentReport);
						console.table(currentReport);
						console.info(data);
						console.table(data);
						console.warn(error);
						postStatus("Sorry, there was a problem adding your submission. Please contact us or try again later.");
					}
				)
		}
		/* ________________ Act onload. ________________ */
		window.addEventListener(
			"DOMContentLoaded",
			() => {
				resetForm();
			}
		);
	</script>
	<!-- ============================= -->
	<!-- = = = Firebase scripts. = = = -->
	<!-- ============================= -->
	<!-- Note: It's OK to expose this in client-side HTML. See https://stackoverflow.com/questions/37482366/is-it-safe-to-expose-firebase-apikey-to-the-public. -->
	<!-- This is a backwards-compatible approach that doesn't rely on the module format. -->
	<script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-app-compat.js"></script>
	<!-- Model: <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore-compat.js"></script> -->
	<script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-database-compat.js"></script>
	<script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-auth-compat.js"></script>
	<script>
		// Note addition of the value of `databaseURL` depending on the location of the database:
		const firebaseConfig = {
			apiKey: "AIzaSyChp7kQ4Ek-pmXdZf3MlfwDbmgrj_cP6j0",
			authDomain: "learnwithai-submissions.firebaseapp.com",
			projectId: "learnwithai-submissions",
			storageBucket: "learnwithai-submissions.appspot.com",
			messagingSenderId: "217852760536",
			appId: "1:217852760536:web:ba08035e144212c3a2e2ad",
			databaseURL: "https://learnwithai-submissions-default-rtdb.firebaseio.com/",
		};
		// Initialize Firebase
		const app = firebase.initializeApp(firebaseConfig);
		// Initialize Realtime Database and get a reference to the service
		// const firebase.database = firebase.getDatabase(app);
	</script>
	<script id="theme-toggle-script-v1">
		// UPGRADE: Fix this OS-level theming and add it where appropriate below:
		// Check for dark mode preference at the OS level
		// const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
		// If the user's OS setting is dark and matches our .dark-mode class...
		// if (prefersDarkScheme.matches) {
		// } else {
		// }
		window.addEventListener(
			"DOMContentLoaded",
			() => {
				// Only for onload actions related to light/dark themes.
				/*________________ Dark mode. ________________*/
				// Select the button
				const themeToggleButton = document.querySelector("#theme");
				// Get the user's theme preference from local storage, if it's available
				const currentTheme = localStorage.getItem("theme");
				// If the user's preference in localStorage is dark...
				if (currentTheme === "dark") {
					// ...let's toggle the .dark-theme class on the body
					document.body.classList.toggle("dark-mode");
					// Otherwise, if the user's preference in localStorage is light...
				} else if (currentTheme === "light") {
					// ...let's toggle the .light-theme class on the body
					document.body.classList.toggle("light-mode");
				} else {
					// Default to theme determined by class in body tag.
				}
				toggleTheme = () => {
					document.body.classList.toggle("light-mode");
					document.body.classList.toggle("dark-mode");
					var theme = document.body.classList.contains("light-mode") ? "light" : "dark";
					var theme = document.body.classList.contains("dark-mode") ? "dark" : "light";
					// Finally, let's save the current preference to localStorage to keep using it
					localStorage.setItem("theme", theme);
				};
			}
		)
	</script>
	<script id="debug-pre-script_v01.1" type="text/javascript" charset="utf-8">
		function debug(argument) {
			// Use only if no debug.js found.
			window.status = "Debug script not found."
		}
		function debugArray(argument) {
			// Use only if no debug.js found.
			window.status = "DebugArray script not found."
		}
		function debugObject(argument) {
			// Use only if no debug.js found.
			window.status = "DebugObject script not found."
		}
	</script>
	<script id="debug-external-script" type="text/javascript" language="JavaScript" src="../js/debug.js"></script>
	<script id="debug-open-window">
		try {
			openDebugWindow({ openerWindow: this, debugIsOn: false, purgeOldReports: true });
		}
		catch (error) {
			window.status = "Debug script called but " + error;
		}
	</script>
</head>

<body class="light-mode">
	<div id="watermark">
	</div>
	<h3 class="mobile-browsing-warning">This page is optimized for a larger screen. We recommend you visit on
		a non-mobile
		browser.</h3>
	<main>
		<div id="header">
			<!-- <a id="crest" href="http://umaine.edu"><img src="media/ume_crest_logo_gray_tra.png" alt="Ume Crest Gray" /></a> -->
			<img id="logo-simple" src="../media/learnwithai_graphic_simple_tra_1080.png" onclick="window.open('https://umaine.edu/learnwithai/', '_blank')">
			<h1 id="rubric" onclick="window.open('https://umaine.edu/learnwithai/', '_blank')">Learning With AI</h1>
			<h2>Submit a suggestion for the toolkit</h2>
			<div id="beta">BETA</div>
			<!-- <p><span class="warning">Warning</span>: In this version you cannot use single apostrophes (<span
					class="warning"><strong>'</strong></span>) in any fields.</p> -->
		</div>
		<div class="row" id="global-options">
			<button id="theme" onclick="toggleTheme()">Toggle dark mode</button>
			<button id="reset" onclick="resetForm()">Reset form</button>
		</div>
		<div class="row row-containing-columns">
			<div id="basics" class="card">
				<h2><i class="fa-solid fa-file-circle-plus" aria-hidden="true"></i>Basics</h2>
				<fieldset id="record-type">
					<legend>Select a type</legend>
					<div class="grid-radio">
						<label for="type-resource"><i class="fa-solid fa-book" aria-hidden: "true"></i>Resource</label>
						<input type="radio" id="type-resource" name="type" value="resource" checked onclick="submissionType = this.value; chooseType()">
						<label for="type-strategy"><i class="fa-solid fa-square-pen" aria-hidden: "true"></i>Strategy</label>
						<input type="radio" id="type-strategy" name="type" value="strategy" onclick="submissionType = this.value; chooseType()">
						<label for="type-resource"><i class="fa-solid fa-calendar-days"></i>Event</label>
						<input type="radio" id="type-event" name="type" value="event" onclick="submissionType = this.value; chooseType()">
						<label for="type-speaker"><i class="fa-solid fa-person-chalkboard" aria-hidden: "true"></i>Speaker</label>
						<input type="radio" id="type-speaker" name="type" value="speaker" onclick="submissionType = this.value; chooseType()">
					</div>
				</fieldset>
				<label for='lwa-title' class="resource-only strategy-only event-only">Title</label>
				<label for='lwa-title' class="speaker-only">Speaker</label>
				<input type='memo' id='lwa-title' placeholder='How to make flashcards with ChatGPT'></input><br />
				<label for='lwa-summary' class="resource-only strategy-only event-only">Summary</label>
				<label for='lwa-summary' class="speaker-only">Affiliation</label>
				<textarea class="memo" id='lwa-summary' placeholder='This article explains how to ...'></textarea><br />
			</div>
			<div class="arrow-container">
				<div class="arrow-box-right">
				</div>
				<div class="arrow-right">
				</div>
			</div>
			<div id="submission-type" class="card">
				<!-- Type name. -->
				<h2 class="resource-only"><i class="fa-solid fa-book" aria-hidden: "true"></i>Resource</h2>
				<h2 class="strategy-only"><i class="fa-solid fa-square-pen" aria-hidden: "true"></i>Strategy</h2>
				<h2 class="event-only"><i class="fa-solid fa-calendar-days" aria-hidden: "true"></i>Event</h2>
				<h2 class="speaker-only"><i class="fa-solid fa-person-chalkboard" aria-hidden: "true"></i>Speaker</h2>
				<!-- URL. -->
				<label class="resource-only" for='lwa-resource-url'>Resource URL</label>
				<input class="resource-only" type='url' id='lwa-resource-url' placeholder='https://kimrodriguez.com/flashcards.html'></input>
				<label class="event-only" for='lwa-event-url'>Event URL</label>
				<input class="event-only" type='url' id='lwa-event-url' placeholder='https://university.edu/conference.html'></input>
				<!-- Person. -->
				<label class="resource-only" for='lwa-author'>Original author/byline</label>
				<input class="resource-only" type='text' id='lwa-author' placeholder='Rodriguez, Kim'></input>
				<label class="event-only" for='lwa-presenter'>Presenter(s)</label>
				<input class="event-only" type='text' id='lwa-presenter' placeholder='Ada Lovelace, Alan Turing'></input>
				<!-- Associated id. -->
				<label class="strategy-only" for='lwa-resource-id'>Resource id(s) <a href="#" class="hint" id="hint-resource-id" onclick="new Popup( 'hint', this )">?</a></label>
				<input class="strategy-only" type='text' id='lwa-resource-id' placeholder='mitchell_012d2e1b'></input>
				<label class="speaker-only" for='lwa-event-id'>Event id(s) <a href="#" class="hint" id="hint-event-id" onclick="new Popup( 'hint', this )">?</a></label>
				<input class="speaker-only" type='text' id='lwa-event-id' placeholder='conference_012d2e1b'></input>
				<!-- Event-specific fields. -->
				<label class="event-only" for='lwa-start-written'>Start and end date (dd mmm yyyy) </label>
				<div class="input-row">
					<input class="event-only" type='text' id='lwa-start-written' placeholder='24 Nov 2025'></input>
					<p class="event-only">to</p>
					<!-- <label class="event-only" for='lwa-end-written'>End date (dd Mmm yyyy)</label> -->
					<input class="event-only" type='text' id='lwa-end-written' placeholder='25 Nov 2025'></input>
				</div>
				<div id="date-utilities" class="input-row event-only"><label for="same-date">Same day?</label><input type="checkbox" id="same-date" onclick="toggleSameDate()" /></div>
				<label class="event-only" for='lwa-location'>City or Online (only)</label>
				<input class="event-only" type='text' id='lwa-location' placeholder='Barcelona'></input>
				<label class="event-only" for='lwa-recording'>Recording URL (blank if none)</label>
				<input class="event-only" type='text' id='lwa-recording' placeholder='https://youtube.com/webinar'></input>
			</div>
			<div class="arrow-container">
				<div class="arrow-box-right">
				</div>
				<div class="arrow-right">
				</div>
			</div>
			<div class="special-card-container">
				<div id="submitter" class="card">
					<h2><i class="fa-solid fa-user" aria-hidden: "true"></i>Submitter <span class="subheading">(optional)</span></h2>
					<label for='lwa-submitter-name'>Submitter name (added to Google Sheet)</label>
					<input type='text' id='lwa-submitter-name' placeholder='Pat Johnson'></input><br />
					<label for='lwa-submitter-website'>Submitter website (added to Google Sheet)</label>
					<input type='url' id='lwa-submitter-website' placeholder='https://patjohnson.com'></input><br />
					<label for='lwa-submitter-email'>Submitter email (not published)</label>
					<input type='email' id='lwa-submitter-email' placeholder='pat@patjohnson.com'></input>
					<br />
				</div>
				<div class="arrow-container arrow-down">
					<div class="arrow-box-right">
					</div>
					<div class="arrow-right">
					</div>
				</div>
			</div>
		</div>
		<div id="tag-utilities" class="row row-containing-columns">
			<h2><i class="fa-solid fa-tags" aria-hidden: "true"></i>Keywords</h2>
			<div class="search-container">
				<label for="search-box">Start typing to narrow selection: </label>
				<input type="text" id="search-box" name="search-box" onkeyup="searchFilter(this.value)" /><button id="clear-search" onclick="clearSearchFilter()">clear</button>
			</div>
			<div class="folksonomy-container">
				<label for="folksonomy-box">Suggest your own keywords for this item (comma-separated):</label>
				<input type="text" id="folksonomy-box" name="folksonomy-box" />
			</div>
		</div>
		<div id="row-tags" class="row row-containing-rows">
			<div id="tags">
			</div>
		</div>
		<p>Review your data for upload, regenerate if necessary, and then a submit button will appear.</p>
		<div class="row">
			<button><i class="fa-solid fa-magnifying-glass" aria-hidden: "true"></i><a onclick="createReport()">Preview
					data before submitting</a></button>
		</div>
		<div id="report">
			(No record generated yet)
		</div>
		<p><button id="submit-report-button" onclick="submitReport()"><i class="fa-solid fa-file-export" aria-hidden: "true"></i>Submit your suggestion</button></p>
		<p id="status"></p>
	</main>
</body>

</html>